<?php
/**
 * Definición del autoloader de clases y fijación de parámetros de registro de mensajes y errores
 *
 * @author      Gorka G LLona                               <gorka@gmail.com> <gorka@venicua.com>
 * @license     http://www.venicua.com/botbasic/license     Licencia de BotBasic
 * @see         http://www.venicua.com/botbasic             Referencia de BotBasic
 * @version     1.0 - 01.jan.2017
 * @since       0.1 - 01.jul.2016
 */



// TODO
/*
Another important step is to minimize/stop your Apache leakage of webserver info that makes it identifiable. Edit /etc/apache2/conf.d/security by adding/modifying two parameters like the following:
ServerTokens Prod
ServerSignature Off
*/



include_once('bbdefines.php');

ini_set("log_errors", 1);
ini_set("error_log", BOTBASIC_LOGFILE);
error_reporting(E_ALL);

if (BOTBASIC_DEBUG) { error_log("\nStarting BotBasic runtime...\n"); }



/**
 * Classes autoloader. "BizModelAdapter" class will be loaded from a "bizmodel" outer directory
 */
spl_autoload_register(

    function ($class)
    {
        $dir  = __DIR__ . ($class == 'BizModelAdapter' ? '../bizmodel' : '');
        $file = str_replace('\\', '/', $class) . ".php";
        /** @noinspection PhpIncludeInspection */
        require_once "$dir/$file";
    }

);

